parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dpP8":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=function a(i,s){var n=this;t(this,a),e(this,"update",function(){n.tag.style.left=n.x*n.game.scale+"px",n.tag.style.top=n.y*n.game.scale+"px"}),e(this,"destroy",function(){n.tag.parentNode.removeChild(n.tag)}),e(this,"colideWith",function(t){return n.x==t.x&&n.y==t.y}),e(this,"colideWithStage",function(){var t=n.x<0||n.x>=n.game.width/n.game.scale,e=n.y<0||n.y>=n.game.height/n.game.scale;return t||e}),this.game=i,this.tag=s,this.tag.style.backgroundSize=this.game.scale+"px",this.tag.style.width=this.game.scale+"px",this.tag.style.height=this.game.scale+"px",this.x=0,this.y=0};exports.default=a;
},{}],"VlcB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Block"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?i(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l=function(e){function o(t){var e;return n(this,o),a(i(e=r(this,u(o).call(this,t,document.querySelector(".Food")))),"randomize",function(){e.x=Math.floor(Math.random()*(e.game.width/e.game.scale)),e.y=Math.floor(Math.random()*(e.game.height/e.game.scale))}),e.randomize(),e.value=10,e}return c(o,t.default),o}();exports.default=l;
},{"./Block":"dpP8"}],"Dnf0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Block"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(e){function o(t,e){var u;return n(this,o),null==e&&((e=document.createElement("div")).className="Snack Block",e=t.game.sceneTag.appendChild(e)),(u=r(this,c(o).call(this,t.game,e))).x=t.x,u.y=t.y,u}return i(o,t.default),o}();exports.default=l;
},{"./Block":"dpP8"}],"pJnK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./SnakeBlock"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a=function(){function e(n){var l=this;o(this,e),i(this,"update",function(){for(var t=0;t<l.blocks.length;++t)l.blocks[t].update()}),i(this,"move",function(t,e,o){if(clearInterval(l.autoMoveInterval),l.game.isPlaying){for(l.tail.push({x:l.x,y:l.y});l.tail.length>l.length;)l.tail.shift();l.x+=t,l.y+=e;for(var n=0;n<l.tail.length;++n)l.blocks[n+1].x=l.tail[n].x,l.blocks[n+1].y=l.tail[n].y;l.autoMoveInterval=setInterval(function(){l.move(t,e,!0)},300),l.blocks[0].colideWith(l.game.food)&&l.eat(),(l.blocks[0].colideWithStage()||l.colideWithTail())&&l.died()}else o&&(l.autoMove={x:t,y:e})}),i(this,"colideWithTail",function(){for(var t=1;t<l.tail.length;t++)if(l.blocks[0].colideWith(l.blocks[t]))return!0;return!1}),i(this,"eat",function(){l.game.score.tick(),l.game.food.randomize(),l.length++,l.blocks.push(new t.default(l))}),i(this,"died",function(){for(l.game.score.tickDeath(),l.game.food.randomize(),clearInterval(l.autoMoveInterval);l.blocks.length>1;)l.blocks.shift().destroy();l.x=0,l.y=0,l.length=0}),this.game=n,this.autoMoveInterval,this.tail=[],this.length=0,this.blocks=[];for(var a=document.querySelectorAll(".Snake"),r=0;r<a.length;++r){var s=new t.default(this,a[r]);this.blocks.push(s)}this.autoMove=null}return l(e,[{key:"x",get:function(){return this.blocks.length>0?this.blocks[0].x:0},set:function(t){this.blocks.length>0&&(this.blocks[0].x=t)}},{key:"y",get:function(){return this.blocks.length>0?this.blocks[0].y:0},set:function(t){this.blocks.length>0&&(this.blocks[0].y=t)}}]),e}();exports.default=a;
},{"./SnakeBlock":"Dnf0"}],"r3Jt":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function o(n){var s=this;e(this,o),t(this,"tick",function(){s.game.isPlaying&&(s.points+=s.game.food.value,s.points>s.bestScore&&(s.bestScore=s.points,localStorage.setItem("bestScore",s.points)))}),t(this,"tickDeath",function(){s.game.isPlaying&&(s.points=0,s.deaths++)}),t(this,"update",function(){document.getElementById("ScorePoints").innerHTML=s.points,document.getElementById("ScoreDeaths").innerHTML=s.deaths,document.getElementById("ScoreBestScore").innerHTML=s.bestScore}),this.game=n,this.points=0,this.deaths=0,this.bestScore=0,localStorage.getItem("bestScore")>0&&(this.bestScore=localStorage.getItem("bestScore"))};exports.default=o;
},{}],"NDjp":[function(require,module,exports) {
"use strict";function e(e,t){var a,n,u,o,r,s,c=e,d=t||function(e){};c.addEventListener("touchstart",function(e){var t=e.changedTouches[0];a="none",o=0,r=0,n=t.pageX,u=t.pageY,s=(new Date).getTime(),e.preventDefault()},!1),c.addEventListener("touchmove",function(e){e.preventDefault()},!1),c.addEventListener("touchend",function(e){var t=e.changedTouches[0];o=t.pageX-n,r=t.pageY-u,(new Date).getTime()-s<=300&&(Math.abs(o)>=150&&Math.abs(r)<=100?a=o<0?"left":"right":Math.abs(r)>=150&&Math.abs(o)<=100&&(a=r<0?"up":"down")),d(a),e.preventDefault()},!1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"GLet":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./Food")),t=i(require("./Snake")),n=i(require("./Score")),a=i(require("../swipedetect"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function i(o){var s=this;r(this,i),l(this,"resize",function(){s.sceneTag.style.width=Math.floor(s.stageTag.offsetWidth/s.scale-10)*s.scale+"px",s.sceneTag.style.height=Math.floor(s.stageTag.offsetHeight/s.scale-1)*s.scale+"px",s.food.randomize()}),l(this,"update",function(){s.snake.update(),s.food.update(),s.score.update()}),l(this,"play",function(e,t){s.playingInterval=setInterval(s.update,0),s.playing=!0,(null!=s.snake.autoMove||null!=e&&null!=t)&&(null==e&&null==t&&(e=s.snake.autoMove.x,t=s.snake.autoMove.y),s.snake.move(e,t),s.snake.autoMove=null),document.getElementById("play").innerHTML="Pause"}),l(this,"pause",function(){clearInterval(s.playingInterval),s.playing=!1,document.getElementById("play").innerHTML="Play"}),l(this,"moveSnake",function(e){switch(e.key){case"ArrowLeft":s.isPlaying?s.snake.move(-1,0):s.play(-1,0);break;case"ArrowUp":s.isPlaying?s.snake.move(0,-1):s.play(0,-1);break;case"ArrowRight":s.isPlaying?s.snake.move(1,0):s.play(1,0);break;case"ArrowDown":s.isPlaying?s.snake.move(0,1):s.play(0,1);break;case" ":s.isPlaying?s.pause():s.play()}}),this.scale=o,this.playing,this.playingInterval,this.stageTag=document.querySelector(".Stage"),this.sceneTag=document.querySelector(".Scene"),this.sceneTag.style.backgroundSize=o+"px",this.snake=new t.default(this),this.food=new e.default(this),this.score=new n.default(this),this.resize(),document.addEventListener("keydown",function(e){return s.moveSnake(e)}),window.addEventListener("resize",function(e){return s.resize(e)}),(0,a.default)(this.sceneTag,function(e){"up"===e&&s.moveSnake({key:"ArrowUp"}),"right"===e&&s.moveSnake({key:"ArrowRight"}),"down"===e&&s.moveSnake({key:"ArrowDown"}),"left"===e&&s.moveSnake({key:"ArrowLeft"})})}return s(i,[{key:"isPlaying",get:function(){return this.playing}},{key:"width",get:function(){return this.sceneTag.offsetWidth}},{key:"height",get:function(){return this.sceneTag.offsetHeight}}]),i}();exports.default=u;
},{"./Food":"VlcB","./Snake":"pJnK","./Score":"r3Jt","../swipedetect":"NDjp"}],"Focm":[function(require,module,exports) {
"use strict";var e=n(require("./src/Game"));function n(e){return e&&e.__esModule?e:{default:e}}var t=new e.default(20);t.update(),document.getElementById("play").addEventListener("click",function(){t.isPlaying?t.pause():t.play()}),window.onblur=function(){t.pause()};
},{"./src/Game":"GLet"}]},{},["Focm"], null)
//# sourceMappingURL=/html-snake/snake.3af26786.js.map