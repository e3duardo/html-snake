{"version":3,"sources":["src/Food.js","src/SnakeBlock.js","src/Snake.js","src/Score.js","src/Game.js","index.js"],"names":["Food","game","x","Math","floor","random","width","scaleX","y","height","scaleY","foodTag","style","left","top","document","querySelector","randominize","value","SnakeBlock","tag","snakeBlockTag","object","colideWithX","colideWithY","parentNode","removeChild","undefined","createElement","className","snake","sceneTag","appendChild","offsetLeft","offsetTop","score","deths","bestScore","Snake","i","blocks","length","update","auto","clearInterval","autoMoveInterval","isPlaying","tail","push","shift","setInterval","move","colideWith","food","eat","colideWithStage","colideWithTail","died","autoMove","tick","tickDeath","destroy","divs","querySelectorAll","block","points","localStorage","setItem","deaths","getElementById","innerHTML","getItem","Game","playingInterval","playing","e","key","play","pause","stageTag","Score","addEventListener","moveSnake","offsetWidth","offsetHeight","window","onblur"],"mappings":"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","file":"snake.e8aa948c.js","sourceRoot":"..","sourcesContent":["class Food {\n  constructor(game) {\n\t  this.foodTag = document.querySelector('.Food');\n\t  this.game = game;\n\t  this.randominize();\n\t  this.x = 0;\n\t  this.y = 0;\n\t  this.value = 10;\n  }\n\n  randominize = ()=>{\n\t  this.x = Math.floor((Math.random() * (this.game.width / this.game.scaleX)));\n\t  this.y = Math.floor((Math.random() * (this.game.height / this.game.scaleY)));\n  }\n\n  update = ()=>{\n\t  this.foodTag.style.left = (this.x*this.game.scaleX) +'px';\n\t  this.foodTag.style.top = (this.y*this.game.scaleY) +'px';\n  }\n}\n\nexport {Food as default};\n","class SnakeBlock {\n\tconstructor(game, tag) {\n\t\tthis.snakeBlockTag = tag;\n\t\tif(tag==undefined){\n\t\t\tconst tag = document.createElement(\"div\");\n\t\t\ttag.className = \"Snack Block\";\n\t\t\ttag.style = \"left: \"+(game.snake.x*game.scaleX)+\"px; top: \"+(game.snake.y*game.scaleY)+\"px\";\n\t\t\tthis.snakeBlockTag = game.sceneTag.appendChild(tag);\n\t\t}\n\t\tthis.game = game;\n\t\tthis.x = this.snakeBlockTag.offsetLeft/this.game.scaleX;\n\t\tthis.y = this.snakeBlockTag.offsetTop/this.game.scaleY;\n\t}\n\n\tupdate = ()=>{\n\t\tthis.snakeBlockTag.style.left = (this.x*this.game.scaleX) +'px';\n\t\tthis.snakeBlockTag.style.top = (this.y*this.game.scaleY) +'px';\n\t}\n\n\tcolideWith = (object)=>{\n \t  return this.x==object.x && this.y==object.y;\n   }\n\n\tcolideWithStage = ()=>{\n\t\tconst colideWithX = this.x < 0 || this.x >= this.game.width/this.game.scaleX;\n\t\tconst colideWithY = this.y < 0 || this.y >= this.game.height/this.game.scaleY;\n\n\t\treturn colideWithX || colideWithY;\n\t}\n\n\tdestroy = ()=>{\n\t\tthis.snakeBlockTag.parentNode.removeChild(this.snakeBlockTag);\n\t}\n\n}\n\nexport {SnakeBlock as default};\n","var score = document.querySelector('#score');\nvar deths = document.querySelector('#deths');\nvar bestScore = document.querySelector('#bestScore');\n\nimport SnakeBlock from './SnakeBlock';\n\nclass Snake {\n\tconstructor(game) {\n\t\t// this.snakeTag = document.querySelector('.Snake');\n\t\tthis.game = game;\n\t\tthis.autoMoveInterval;\n\n\t\tthis.tail = [];\n\t\tthis.length = 0;\n\n\t\tthis.blocks = [];\n\t\tconst divs = document.querySelectorAll('.Snake');\n\t\tfor (let i = 0; i < divs.length; ++i) {\n\t\t\tconst block = new SnakeBlock(this.game, divs[i]);\n\t\t\tthis.blocks.push(block);\n\t\t}\n\n\t\tthis.autoMove = null;\n\t}\n\n\tupdate = ()=>{\n\t\tfor (let i = 0; i < this.blocks.length; ++i) {\n\t\t\tthis.blocks[i].update();\n\t\t}\n\t}\n\n\tmove = (x, y, auto)=>{\n\t\tclearInterval(this.autoMoveInterval);\n\n\t\tif(this.game.isPlaying){\n\t\t\t//moving references\n\t\t\tthis.tail.push({x: this.x, y: this.y});\n\t\t\twhile (this.tail.length > this.length) {\n\t\t\t  this.tail.shift();\n\t\t\t}\n\t\t\tthis.x+=x;\n\t\t\tthis.y+=y;\n\t\t\tfor (let i = 0; i < this.tail.length; ++i) {\n\t\t\t\tthis.blocks[i+1].x = this.tail[i].x;\n\t\t\t\tthis.blocks[i+1].y = this.tail[i].y;\n\t\t\t}\n\n\t\t\t//automoving\n\t\t\tthis.autoMoveInterval = setInterval(()=>{\n\t\t\t\tthis.move(x, y, true);\n\t\t\t}, 300);\n\n\t\t\t//eat\n\t\t\tif(this.blocks[0].colideWith(this.game.food)){\n\t\t\t\tthis.eat();\n\t\t\t}\n\n\t\t\tif(this.blocks[0].colideWithStage() || this.colideWithTail()){\n\t\t\t\tthis.died();\n\t\t\t}\n\t\t}else if(auto){\n\t\t\tthis.autoMove = {x: x, y: y};\n\t\t}\n\t}\n\n\tcolideWithTail = ()=>{\n\t\tfor (var i = 1; i < this.tail.length; i++) {\n\t\t\tif(this.blocks[0].colideWith(this.blocks[i])){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\teat = ()=>{\n\t\tthis.game.score.tick();\n\t\tthis.game.food.randominize();\n\n\t\tthis.length++;\n\t\tthis.blocks.push(new SnakeBlock(this.game));\n\t}\n\n\tdied = ()=>{\n\t\tthis.game.score.tickDeath()\n\t\tthis.game.food.randominize();\n\n\t\tclearInterval(this.autoMoveInterval);\n\n\t\twhile(this.blocks.length>1){\n\t\t\tthis.blocks.shift().destroy();\n\t\t}\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.length=0;\n\t}\n\n\tget x (){\n\t\treturn this.blocks[0].x;\n\t}\n\tset x (x){\n\t\treturn this.blocks[0].x = x;\n\t}\n\tget y (){\n\t\treturn this.blocks[0].y;\n\t}\n\tset y (y){\n\t\treturn this.blocks[0].y = y;\n\t}\n}\n\nexport {Snake as default};\n","class SnakeBlock {\n\tconstructor(game) {\n\t\tthis.game = game;\n\t\tthis.points = 0;\n\t\tthis.deaths = 0;\n\t\tthis.bestScore = 0;\n\t\tif(localStorage.getItem('bestScore')>0){\n\t\t\tthis.bestScore = localStorage.getItem('bestScore');\n\t\t}\n\t}\n\n\ttick = ()=>{\n\t\tif(this.game.isPlaying){\n\t\t\tthis.points+=this.game.food.value;\n\t\t\t\n\t\t\tif (this.points > this.bestScore){\n\t\t\t\tthis.bestScore = this.points;\n\t\t\t\tlocalStorage.setItem('bestScore', this.points);\n\t\t\t}\n\t\t}\n\t}\n\n\ttickDeath = ()=>{\n\t\tif(this.game.isPlaying){\n\t\t\tthis.points = 0;\n\t\t\tthis.deaths++;\n\t\t}\n\t}\n\n\tupdate = ()=>{\n\t\tdocument.getElementById(\"ScorePoints\").innerHTML = this.points;\n\t\tdocument.getElementById(\"ScoreDeaths\").innerHTML = this.deaths;\n\t\tdocument.getElementById(\"ScoreBestScore\").innerHTML = this.bestScore;\n\t}\n\n}\n\nexport {SnakeBlock as default};\n","import Food from './Food';\nimport Snake from './Snake';\nimport Score from './Score';\n\nclass Game {\n\tconstructor(){\n\t\tthis.playing;\n\t\tthis.playingInterval;\n\n\t\tthis.stageTag = document.querySelector('.Stage');\n\t\tthis.sceneTag = document.querySelector('.Scene');\n\n\t\tthis.snake = new Snake(this);\n\t\tthis.food = new Food(this);\n\t\tthis.score = new Score(this);\n\t\tthis.food.randominize();\n\n\t\tdocument.addEventListener(\"keydown\", e => this.moveSnake(e));\n\t}\n\n\tupdate = ()=>{\n\t\tthis.snake.update();\n\t\tthis.food.update();\n\t\tthis.score.update();\n\t}\n\n\tplay = (x, y)=>{\n\t\tthis.playingInterval = setInterval(this.update, 0);\n\t\tthis.playing = true;\n\n\t\tif(this.snake.autoMove != null || (x!=undefined && y!=undefined)){\n\t\t\tif(x==undefined && y==undefined){\n\t\t\t\tx=this.snake.autoMove.x;\n\t\t\t\ty=this.snake.autoMove.y;\n\t\t\t}\n\t\t\tthis.snake.move(x, y);\n\t\t\tthis.snake.autoMove = null;\n\t\t}\n\n\t\tdocument.getElementById('play').innerHTML = \"Pause\";\n\t}\n\tpause = ()=>{\n\t\tclearInterval(this.playingInterval);\n\t\tthis.playing = false;\n\t\tdocument.getElementById('play').innerHTML = \"Play\";\n\t}\n\n\tmoveSnake = (e)=>{\n\n\t\tswitch (e.key) {\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\tif(!this.isPlaying){\n\t\t\t\t\tthis.play(-1, 0);\n\t\t\t\t}else{\n\t\t\t\t\tthis.snake.move(-1,0);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tif(!this.isPlaying){\n\t\t\t\t\tthis.play(0, -1);\n\t\t\t\t}else{\n\t\t\t\t\tthis.snake.move(0,-1);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \"ArrowRight\":\n\t\t\t\tif(!this.isPlaying){\n\t\t\t\t\tthis.play(1, 0);\n\t\t\t\t}else{\n\t\t\t\t\tthis.snake.move(1,0);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tif(!this.isPlaying){\n\t\t\t\t\tthis.play(0, 1);\n\t\t\t\t}else{\n\t\t\t\t\tthis.snake.move(0,1);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \" \":\n\t\t\t\tif(this.isPlaying){\n\t\t\t\t\tthis.pause();\n\t\t\t\t}else{\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t}\n\n\tget isPlaying (){\n\t\treturn this.playing;\n\t}\n\tget width (){\n\t\treturn this.sceneTag.offsetWidth;\n\t}\n\tget height (){\n\t\treturn this.sceneTag.offsetHeight;\n\t}\n\tget scaleX (){\n\t\treturn document.querySelector('.Block').offsetWidth;\n\t}\n\tget scaleY (){\n\t\treturn document.querySelector('.Block').offsetHeight;\n\t}\n}\n\nexport { Game as default };\n","import Game from './src/Game'\n\nconst game = new Game();\ngame.update();\n// game.play();\n\n(function(){\n\n\tdocument.getElementById('play').addEventListener(\"click\", function(e) {\n\t\tif(game.isPlaying){\n\t\t\tgame.pause();\n\t\t}else{\n\t\t\tgame.play();\n\t\t}\n\t});\n\n\twindow.onblur = ()=>{\n\t\tgame.pause();\n\t}\n\n})();\n"]}